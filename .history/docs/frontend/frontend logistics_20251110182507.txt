Tithi Description (frontend logistcs)

tithi.com is the landing page, which shows a Join tithi now and a login button.
just that for now.
either a user will create an account or login to the existing one.
when a brand new owner signs up, they immediately drop into step one of onboarding.
we only create the owner user record at signup; the business/account record is provisioned after onboarding is fully completed.
until then, there is no admin to show‚Äîonboarding is the only path.
logging in (for owners who already finished an onboarding for at least one business) drops you straight into the admin for your selected business‚Äîthere is no dashboard anymore.
if the owner has multiple businesses, they switch between them from inside the admin (business picker in the header).
(remember, each business has to be paid for speerately, one boarding flow for one buisness and gets its own 11.99 a month subscription, if you want multiple businesses you have to pay that many times more a month).
once you‚Äôre inside a business admin, you land on the overview that mirrors the onboarding tabs.
this has essentiall all the pages form the onbaording, allowing you to adjust all those parameters and settings that were set in onbaording so you can change them in real time even after the buisness went live.
but it also has a past bookings page that shows all past bookings with all the data involved with it, along with the customer name email and phone number (gets entered when the customer is on the payment page).
each booking is a block, and it has a "completed" button, "no show" button", and "refund" button.
this is what contorls the actual money to go through, depending on if it was a successful transaction or a refund.
untill one of thiese buttons are hit by the client, no payment has actually gone through.
(this isn't reflected in the figma design so be sure to add it).
make sure this is known when building the stripe pipeline and infrastructure that connects stripe to power the payments that occur.
So if a user creates an account in Tithi, there needs to be an instance of a new user being created.
And this instance umbrellas all of the data surrounding the business and all the services in it, all the availability data that are under each service, and also all the business names, name data, address, everything about that.
That is already in the onboarding process, but basically everything needs to be organized.
So I'm going to read out all the data that needs to be collected, and you need to figure out how to store it, organize it, and make it process and transfer with the front and back end database and to the different, to the booking flow and the admin view.
I hope this makes sense.
So in the beginning, step one is right after the user creates the account.
So user creates the account with an email, a password, and a name and last name.
And then it goes to set up your business, which is step one of eight, and it will start collecting business information like the business name, a brief description, and then what is the DBA, the legal business name, and then what is the industry.
Then it goes, there's a section called your booking website, where it asks for the subdomain of your website, and this will be the exact URL for your booking flow for this website.
Then it asks for location and contacts, a time zone, phone number, website support, email, business address, street address, city, state, province, postal code, and country, and then team members.
This is where you add different team members, so you can, which will basically subdivide all the availability data.
So when a user goes on the booking flow, they can not just see all the availabilities, but what staff members are exactly available for what certain time blocks.
So anyways, user adds a team member and their role and their name, and then there's social media, which you can add the website to the actual company's website, Instagram, Facebook, TikTok, YouTube, but this is all optional.
And then it goes to the next step, which is going to be the logo and brand colors, and this is where you upload your logo and then the brand color, and then this will basically design the look of the booking flow.
Then it goes to step three, which is services and categories.
So so far, we had all of that data about the business and the staff members and the URL, and all of that needs to be organized.
Staff members need to be especially organized because they get used for the availability set, which is later on step four.
But now we're in step three, and this is services and categories, and this is where a user adds a category, and under that category, they will be able to add the services that they want.
And these services require, so when you add a category, you add the category name, optional description, category color, and then you add services within that category, and this will ask for the service name, description, duration, price, and pre-appointment instructions, which will be listed in the booking flow under the service.
And then you add the service, service gets added successfully, and then you add another service if you want.
And then once you add all those services within that category, you create the category and then that category is born and all the services under it will be attached.
So the category is the parent and the services are the child instances within the parent.
And they have the duration, price, instructions, description, all those data fields within each child or service.
And once this is all the categories are added and with it with all their respective services, then you continue to availability.
And this is where you select a service and then fill out the availability for it.
And you don't just fill out the availability in general, but you pick a staff member and then fill out its availability.
And then you pick the next staff member and select and put it, fill in their availability.
And then you finish filling in the availability for that service and you go to the next service.
And you have to do it for all of the services that are listed.
And once you do that, then you go to the next step, which is notification templates.
And this is where you create notifications.
You create a template, you do the template name, a channel, which will be email, SMS or push.
And then email subject, if it is an email, and then category, which will either be confirmation, reminder, follow up, cancellation or reschedule.
And then.
And then.And then the category, which is I Just Said That, and then trigger event, which will either be Booking Created, Booking Confirmed, 24-Hour Reminder, 1-Hour Reminder, Booking Cancelled, Booking Rescheduled, and Booking Completed.
And then there are available placeholders.
So now this is important.
These available placeholders will be filled out in this step, in the Notification step.
And this will be not filled out, but this will be the Customer Name, the Service Name, the Service Duration, Price, Booking Date.
So these are all variables that can be added to the content of the notification because every notification is going to be different for every customer according to their Customer Name and the service that they booked, so they will be dynamic.
To make this possible, make sure thesevariables properly access it's respective data so this works.
YOU ARE A DEVELOPER, FIGUER OUT HOW TO DO THIS.
This is a template, but the data will be different for each actual notification when it's practically rujnning, when the app is practically running and people are actually booking stuff.
The Customer Name will be different, the Service Name will be different, the Service Duration will be different because it depends on what service they add, Price, Booking Date, Booking Time, Business Name.
So instead of saying, your booking is at August, it's going to say, your booking is at Booking Date, which is the variable.
So people will be able to add these placeholders and these need to be properly managed so they always become the right data when the notification is actually sent.
So we need to make sure this happens as well.
So you need to figure out how to organize this and get this created with the onboarding and then routed properly so it always shows the right data when a user wants to add one of these placeholders in their notification template content.
Then the next step will be the Gift Cards.
Now this is optional.
Sorry, it is not the Gift Cards, it is Policies and Confirmation.
So this is where the user fills out their booking policies, which is the Cancellation Policy, the No-Show Policy, the No-Show Flat Fee, and the Refund Policy and the Cash Payment Policy.
These will all be shown in the Payment section of the Booking Flow as little pop-ups.
It will be one pop-up and all the policies will be listed and it's a scrollable component where the user will be able to scroll through everything and understand these policies.
These are set over here and it's just adding the content, the text content of the policy and the No-Show Flat Fee or Percentage Fee, whatever the user wants to have.
These percentages will be applied to the payments accordingly for the final price, the booking was marked a No Show.
And then user saves the policies and then the next step is Gift Cards.
This is optional but a user can create a Gift Card.
They can set the expiration date and also the amount that the Gift Card holds, either an actual amount or a percentage discount off whatever the price of the booking is.
And then the user can generate the actual code, which is a randomized generator creating a Gift Code.
But basically, again, remember the whole entire goal of all of this.
It's just being able to store all of this data under each user, which is under each business name.
Also just to confirm with you, the percentage discounts that are set are to be appleid if this code is added from a customer in the payment section, to then show the final price.
make sure the payment page will do this.
organize the data storage accordingly.
remember ( understand how to store this data, process it and transfer it around to the Booking Flow and within the steps of the onboarding.)
Going back to how the onboarding works for the app, that is the Gift Card section and then it goes to Payment Setup.
This is where the user fills out their credit card and then all the payment methods that they want to allow.
Then that will create the Stripe account under My Account, which is the Stripe Express and that allows different accounts to be made under My (me the person who build the app) Account so they can create payment processing for their booking flow.
Credit Card and Payment Methods need to be configured over here.
Once that is done, you need to build the code that will trigger an account to be made under my stripe account then it goes to the final step.
full stripe setupt: [I'll analyze your existing backend and database structure to modify the Stripe integration plan for compatibility.
Let me first examine the current backend architecture and database models.
[3 tools called]
Now let me examine the existing payment API and financial models more closely:
[3 tools called]
Now let me examine the existing services and onboarding structure:
[3 tools called]
Now I have a comprehensive understanding of the existing backend and database structure.
Let me create a modified Stripe integration plan that's compatible with the existing system:
[1 tool called]
Based on my analysis of your existing backend and database structure, here's a modified Stripe integration plan that's fully compatible with your current system:
# ‚ö°Ô∏è MODIFIED STRIPE INTEGRATION PLAN
## üß© COMPATIBLE WITH EXISTING BACKEND & DATABASE
### üîß PHASE 1 ‚Äî EXTEND EXISTING MODELS (Database Compatibility)
**Goal**: Extend existing TenantBilling and Payment models to support subscriptions and Stripe Connect.
**Database Changes** (Add to existing TenantBilling model):
